{% extends "clj_wamp_example/views/layout.html" %}
{% block content %}

    <div class="container">
        <header>
            <h1>clj-wamp<br>
                <small>WAMP WebSockets for Clojure and HTTP Kit</small>
            </h1>
        </header>

        <div class="hero-unit">
            <h2 class="text-center">Give the examples a try:</h2>
            <div class="row-fluid">
                <div class="span6">
                    <a href="/chat" class="btn btn-large btn-success span8 offset3">
                        <span><i class="icon-comments"></i> Chat Demo<br></span>
                    </a>
                </div>
                <div class="span6">
                    <a href="/rpc" class="btn btn-large btn-success span8 offset1">
                        <span><i class="icon-exchange"></i> RPC Demo</span>
                    </a>
                </div>
            </div>

            <p class="text-center">The
                <a href="https://github.com/cgmartin/clj-wamp-example">source code</a>
                for these examples can be found at GitHub.</p>
        </div>

        <div class="clearfix">
            <blockquote class="pull-right">
                <p>
                    <abbr title="WebSocket Application Messaging Protocol">WAMP</abbr>
                    is an open WebSocket subprotocol that provides two
                    asynchronous messaging patterns: <a href="http://wamp.ws/faq#rpc">RPC</a> and
                    <a href="http://wamp.ws/faq#pubsub">PubSub</a>.
                </p>
                <small>See the <cite title="WAMP.ws"><a href="http://wamp.ws/">WAMP website</a></cite> for more info.</small>
            </blockquote>
        </div>

        <h2>Overview</h2>
        <div class="lead alert text-center">
            <strong>Note:</strong> clj-wamp currently only supports
            <a href="http://http-kit.org/">HTTP Kit</a> async servers.
        </div>
        <p>clj-wamp provides a server-side framework for websocket communication using the WAMP subprotocol.</p>
        <p>It should work with any <a href="http://wamp.ws/implementations">WAMP v1 enabled client</a>
            - The examples on this site use <a href="http://autobahn.ws/js">AutobahnJS</a>.</p>

        <h3>Installation</h3>
        <p>Add the following dependency to your <code>project.clj</code> file:</p>
        <pre>[clj-wamp "0.4.1"]</pre>

        <h3>Usage</h3>
        <p>Add clj-wamp's <code>http-kit-handler</code> to http-kit's <code>with-channel</code>, and attach to a route:</p>
        <script src="https://gist.github.com/cgmartin/5789742.js"></script>

        <p>See the docs for more information on callback function signatures and other options.</p>
    </div>
{% endblock %}

